function resizeWindow(){changeWindowWidth(),$(window).resize(changeWindowWidth)}function changeWindowWidth(){var t=$(window).width()>640?640:$(window).width();$("div.x-banner,div.x-banner ul.con li").width(t),$("div.x-banner ul.con").width(t*$("div.x-banner ul.con li").length+20).height(320*t/640),$("div.x-banner").height(320*t/640),$("div.x-banner ul.page").css("top",320*t/640-20),$("div.x-banner #touchSalse li").height(320*t/640),$("div.x-banner #touchSalse li img").height(320*t/640).width(t);for(var e=new Array,n=0;n<$("div.x-banner ul.con li").length;n++)e.push("<em class='"+(0==n?"cur":"")+"'></em>");$("div.x-banner ul.page li").empty(),$("div.x-banner ul.page li").append($(e.join("")))}function touchStart(t){if($("#touchSalse").stop(!0,!0),$("#touchSalse").is(":animated"))return!1;clearTimeout(autoSroll);var e=t.touches[0].clientX,n=t.touches[0].clientY,o={x:e,y:n};touchArray.push(o)}function touchMove(t,e){var n=t.touches[0].clientX,o=t.touches[0].clientY;Math.abs(touchArray[0].x-n)<Math.abs(touchArray[0].y-o)||(t.preventDefault(),touchType=n<touchArray[0].x?1:-1,$("#"+e).css("left",n<touchArray[0].x?$("#"+e).position().left-(touchArray[0].x-n):$("#"+e).position().left+(n-touchArray[0].x)),touchArray[0].x=n,touchArray[0].y=o)}function touchEnd(t,e){touchArray.length=0;var n=$("#"+e).position().left;if(n>0)$("#"+e).animate({left:0},300,function(){setPageCation()}),touchIndex=0;else if(Math.abs(n)>($("#"+e+" li").length-1)*$("#"+e+" li").width())$("#"+e).animate({left:0-($("#"+e+" li").length-1)*$("#"+e+" li").width()},300,function(){setPageCation()}),touchIndex=$("#"+e+" li").length-1;else{var o=$("#"+e+" li").width();touchIndex+=touchType,touchIndex=0>touchIndex?0:touchIndex>$("#"+e+" li").length-1?$("#"+e+" li").length-1:touchIndex,$("#"+e).animate({left:0-o*touchIndex},300,function(){setPageCation()})}autoSroll=setTimeout(function(){autoScrollFn()},5e3)}function setPageCation(){$("div.x-banner ul.page li em").removeClass("cur"),$("div.x-banner ul.page li em:eq("+touchIndex+")").addClass("cur")}function autoScrollFn(){touchIndex=touchIndex+1>$("#touchSalse li").length-1?0:touchIndex+1;var t=$("#touchSalse li").width();$("#touchSalse").animate({left:0-t*touchIndex},300,function(){setPageCation()}),autoSroll=setTimeout(function(){autoScrollFn()},5e3)}var touchArray=new Array,touchType=0,touchIndex=0,autoSroll;$(function(){resizeWindow()}),autoSroll=setTimeout(function(){autoScrollFn()},5e3);